---
title: Multicasting Operators
description: Share subscriptions across multiple subscribers
---

Operators for sharing a single subscription among multiple subscribers.

## share

Shares source among multiple subscribers.

```typescript
function share<T>(): Operator<T, T>
```

Without `share`, each subscriber triggers a new subscription:

```typescript
// Bad: Two separate event listeners
source$.subscribe(handlerA);
source$.subscribe(handlerB);
```

With `share`, one subscription is shared:

```typescript
import { pipe } from "@cereb/core";
import { share } from "@cereb/core";

const shared$ = pipe(source$, share());

// Good: Single event listener, shared among subscribers
shared$.subscribe(handlerA);
shared$.subscribe(handlerB);
```

### Real-World Example

```typescript
import { singlePointer } from "@cereb/single-pointer";
import { pipe } from "@cereb/core";
import { share, filter } from "@cereb/core";

const pointer$ = pipe(
  singlePointer(element),
  share()
);

// Both use the same underlying listener
const start$ = pipe(pointer$, filter((s) => s.phase === "start"));
const move$ = pipe(pointer$, filter((s) => s.phase === "change"));
```

## shareReplay

Shares source and replays specified number of emissions to new subscribers.

```typescript
function shareReplay<T>(bufferSize?: number): Operator<T, T>
```

### Usage

```typescript
import { pipe } from "@cereb/core";
import { shareReplay } from "@cereb/core";

const config$ = pipe(
  fetchConfig$,
  shareReplay(1)
);

// First subscriber triggers fetch
config$.subscribe((config) => initModuleA(config));

// Later subscriber gets cached value immediately
setTimeout(() => {
  config$.subscribe((config) => initModuleB(config));
}, 1000);
```

### Parameters

| Name | Type | Default | Description |
|------|------|---------|-------------|
| `bufferSize` | `number` | `1` | Number of values to replay |
